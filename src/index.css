* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Smooth transitions for all elements during theme changes */
*,
*::before,
*::after {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-duration: 0.2s;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Disable transitions for elements that shouldn't animate */
* [aria-busy="true"],
* [data-loading="true"],
.no-transition {
  transition: none !important;
}

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  background-color: var(--background-color, #F3F4F6);
  /* Smooth color transitions for theme changes */
  transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

#root {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Layout Density System */
:root {
  --density-spacing: 1; /* Default multiplier for comfortable */
  --density-card-padding: 16px;
  --density-section-gap: 24px;
  --density-row-height: 56px;
  --density-icon-size: 48px;
  --density-font-scale: 1;
}

[data-density="compact"] {
  --density-spacing: 0.75;
  --density-card-padding: 12px;
  --density-section-gap: 16px;
  --density-row-height: 48px;
  --density-icon-size: 40px;
  --density-font-scale: 0.95;
}

[data-density="comfortable"] {
  --density-spacing: 1;
  --density-card-padding: 16px;
  --density-section-gap: 24px;
  --density-row-height: 56px;
  --density-icon-size: 48px;
  --density-font-scale: 1;
}

[data-density="spacious"] {
  --density-spacing: 1.25;
  --density-card-padding: 24px;
  --density-section-gap: 32px;
  --density-row-height: 72px;
  --density-icon-size: 56px;
  --density-font-scale: 1.05;
}

/* Apply density to common components */
.MuiCardContent-root {
  padding: calc(var(--density-card-padding) * var(--density-spacing)) !important;
}

/* Fix last-child padding for CardContent */
.MuiCardContent-root:last-child {
  padding-bottom: calc(var(--density-card-padding) * var(--density-spacing)) !important;
}

.MuiTableRow-root {
  height: var(--density-row-height);
}

/* Section gaps */
.dashboard-section,
.page-section {
  gap: var(--density-section-gap);
}

/* ============================================
   CONSTRUCTIVISM THEME (DEFAULT)
   Inspired by 1920s Russian avant-garde art
   Features: warm modernist palette, bold typography, geometric forms
   ============================================ */

/* High Contrast Mode (WCAG AAA 7:1+ contrast ratios) */
[data-high-contrast="true"] {
  /* High contrast colors for light mode */
  --primary-color: #0000CC; /* Deep blue */
  --secondary-color: #CC0000; /* Deep red */
  --background-color: #FFFFFF; /* Pure white */
  --text-primary: #000000; /* Pure black */
  --text-secondary: #1A1A1A; /* Near black */
}

[data-high-contrast="true"][data-theme="dark"] {
  /* High contrast colors for dark mode */
  --primary-color: #6699FF; /* Bright blue */
  --secondary-color: #FF6666; /* Bright red */
  --background-color: #000000; /* Pure black */
  --text-primary: #FFFFFF; /* Pure white */
  --text-secondary: #E5E5E5; /* Near white */
}

/* High contrast borders and outlines */
[data-high-contrast="true"] .MuiCard-root {
  border: 2px solid currentColor;
}

[data-high-contrast="true"] .MuiButton-outlined {
  border-width: 2px;
}

[data-high-contrast="true"] *:focus-visible {
  outline: 3px solid currentColor;
  outline-offset: 2px;
}

/* High contrast text */
[data-high-contrast="true"] {
  color: var(--text-primary);
}

[data-high-contrast="true"] body {
  background-color: var(--background-color);
  color: var(--text-primary);
}

/* Remove subtle shadows in high contrast mode */
[data-high-contrast="true"] .MuiCard-root,
[data-high-contrast="true"] .MuiPaper-root {
  box-shadow: none !important;
  border: 2px solid var(--text-primary);
}

/* Stronger link colors */
[data-high-contrast="true"] a {
  color: var(--primary-color);
  text-decoration: underline;
  font-weight: 600;
}

/* Remove background images/gradients (but keep text readable) */
[data-high-contrast="true"] * {
  background-image: none !important;
}

/* High contrast mode: Fix header elements for readability */

/* Logo: Remove gradient background-clip and use solid text color */
[data-high-contrast="true"] .logo {
  background: none !important;
  -webkit-background-clip: unset !important;
  background-clip: unset !important;
  -webkit-text-fill-color: var(--text-primary) !important;
  color: var(--text-primary) !important;
  font-weight: 700;
}

/* Active nav links: Solid background instead of gradient */
[data-high-contrast="true"] .navLink.active,
[data-high-contrast="true"] .navLink:hover {
  background: var(--primary-color) !important;
  color: var(--background-color) !important;
  border: 2px solid var(--text-primary);
}

/* Logout button: Solid background for visibility */
[data-high-contrast="true"] .logoutButton,
[data-high-contrast="true"] .dropdownButton {
  background: var(--secondary-color) !important;
  color: var(--background-color) !important;
  border: 2px solid var(--text-primary) !important;
}

/* Icon buttons and theme toggle: Strong borders and colors */
[data-high-contrast="true"] .iconButton,
[data-high-contrast="true"] .themeToggle,
[data-high-contrast="true"] .accountButton {
  background: var(--background-color) !important;
  color: var(--text-primary) !important;
  border: 2px solid var(--text-primary) !important;
}

[data-high-contrast="true"] .iconButton:hover,
[data-high-contrast="true"] .themeToggle:hover,
[data-high-contrast="true"] .accountButton:hover {
  background: var(--primary-color) !important;
  color: var(--background-color) !important;
  border: 3px solid var(--text-primary) !important;
}

/* ============================================
   CONSTRUCTIVISM THEME (DEFAULT)
   ============================================ */

:root {
  /* Override color variables with Constructivism palette */
  --primary-color: #8B0000;         /* Dark red */
  --secondary-color: #D4A574;       /* Warm tan */
  --accent-color: #2C5F2D;          /* Forest green */
  --background-color: #FAF7F2;      /* Warm off-white */
  --surface-color: #FFFFFF;         /* Pure white */
  --text-primary: #1A1A1A;          /* Near-black */
  --text-secondary: #4A4A4A;        /* Medium gray */

  /* Typography - Constructivism fonts */
  --font-header: "Bebas Neue", "Arial Black", sans-serif;
  --font-subheader: "Work Sans", "Helvetica Neue", sans-serif;
  --font-body: "Work Sans", "Helvetica Neue", sans-serif;
  --font-code: "IBM Plex Mono", "Courier New", monospace;

  /* Border radius - subtle rounds */
  --border-radius-small: 2px;
  --border-radius-medium: 4px;
  --border-radius-large: 6px;

  /* Borders - bolder */
  --border-width-default: 2px;
  --border-width-focus: 3px;
}

/* Dark mode overrides for Constructivism
   Maintains warm modernist aesthetic with inverted palette
   Uses deeper tones while preserving the Constructivism color relationships */
[data-theme="dark"] {
  --primary-color: #B22222;         /* Brighter firebrick red (was #8B0000) */
  --secondary-color: #E0B896;       /* Lighter warm tan for visibility */
  --accent-color: #4A8A4B;          /* Lighter forest green */
  --background-color: #1A1212;      /* Very dark brown (warmer than pure black) */
  --surface-color: #2A2020;         /* Dark warm gray */
  --text-primary: #FAF7F2;          /* Warm off-white (preserved) */
  --text-secondary: #D4A574;        /* Warm tan (preserved) */
  --border-color: #4A4040;          /* Warm gray borders */
}

/* ============================================
   CONSTRUCTIVISM TYPOGRAPHY
   ============================================ */

/* Headers use Bebas Neue - bold, uppercase */
h1, h2, h3,
.MuiTypography-h1,
.MuiTypography-h2,
.MuiTypography-h3 {
  font-family: var(--font-header) !important;
  text-transform: uppercase;
  letter-spacing: 0.12em;
}

/* Subheaders use Work Sans */
h4, h5, h6,
.MuiTypography-h4,
.MuiTypography-h5,
.MuiTypography-h6 {
  font-family: var(--font-subheader) !important;
  font-weight: 600;
}

/* Body text uses Work Sans */
body, p,
.MuiTypography-body1,
.MuiTypography-body2 {
  font-family: var(--font-body) !important;
}

/* Code uses IBM Plex Mono */
code, pre,
.MuiTypography-code {
  font-family: var(--font-code) !important;
}

/* ============================================
   CONSTRUCTIVISM BUTTON STYLES
   ============================================ */

/* Outlined buttons - Constructivism default */
.MuiButton-outlined {
  border-width: 2px !important;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-weight: 600;
  border-radius: 4px;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Remove the fill-on-hover behavior - keep buttons outlined
   This ensures readability across all color variants and themes */
.MuiButton-outlined:hover {
  border-width: 2px !important;
  transform: translateY(-1px);
  /* MUI will handle color changes based on theme */
}

.MuiButton-outlined:focus-visible {
  border-width: 3px !important;
  outline: none;
}

/* Contained buttons */
.MuiButton-contained {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-weight: 600;
  border-radius: 4px;
  box-shadow: none !important;
}

/* ============================================
   CONSTRUCTIVISM CARD STYLES
   ============================================ */

.MuiCard-root {
  border-radius: 4px !important;
  border-width: 2px;
  box-shadow: none !important;
}

/* ============================================
   CONSTRUCTIVISM CHIP STYLES
   ============================================ */

.MuiChip-root {
  border-radius: 2px !important;
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
  font-weight: 600;
  border: 2px solid currentColor;
}

/* ============================================
   CONSTRUCTIVISM TABLE STYLES
   ============================================ */

.MuiTableCell-head {
  font-family: var(--font-subheader) !important;
  font-weight: 600 !important;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.875rem;
  border-bottom-width: 3px !important;
}

/* ============================================
   CONSTRUCTIVISM INPUT STYLES
   ============================================ */

.MuiOutlinedInput-root {
  border-radius: 4px !important;
}

.MuiOutlinedInput-notchedOutline {
  border-width: 2px;
}

.MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline {
  border-width: 2px;
}

.MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline {
  border-width: 3px;
}
